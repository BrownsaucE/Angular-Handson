<form class="block" #empForm="ngForm">
    <h3>Edit Employee</h3>
    
    <div>
        <label style="font-weight: bold;">Name</label><br>
        <input type="text" name="name" [(ngModel)]="employee.name" #name="ngModel" minlength="2" maxlength="10" required>
        {{name.value}}
        <div *ngIf="name.errors?.required" class="error">Name is required</div>
        <div *ngIf="name.errors?.minlength" class="error">Name must be at least 2 characters long</div>
    </div><br>

    <div>
        <label style="font-weight: bold;">Salary</label><br>
        <input type="text" name="salary" [(ngModel)]="employee.salary" required>
    </div><br>

    <div>
        <label style="font-weight: bold;">Is Permanent or not?</label><br>
        <input type="radio" name="permanent" id="permanentTrue" [(ngModel)]="employee.permanent" value=true>
        <label>Yes</label>
        <input type="radio" name="permanent" id="permanentFalse" [(ngModel)]="employee.permanent" value=false>
        <label>No</label>
    </div><br>

    <div>
        <label style="font-weight: bold;">Department</label><br>
        <select name="departments" [(ngModel)]="employee.department.id"> 
            <option [value]="department.id" *ngFor="let department of departments" [selected]="employee.department.id == department.id">{{department.name}}</option>
        </select><br>

    </div><br>

    <div>
        <button type="submit" [disabled]="!empForm.valid" (ngSubmit)="onSubmit()">Save</button>
    </div><br>

    <div>name.invalid - {{name.invalid}}</div>
    <div>name.touched - {{name.touched}}</div>
    <div>name.dirty - {{name.dirty}}</div> 
    <div>name.errors.required - {{name.errors?.required}}</div>
    <div>name.errors.minlength - {{name.errors?.minlength | json}}</div>
</form>



<div class="block">
    <strong>Employee Model</strong><br>
    <pre>{{employee | json}}</pre>
</div>
<div class="block">
    <strong>Angular Generated Form Model</strong><br>
    <pre>{{empForm.value | json}}</pre>
</div>

